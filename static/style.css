/* === Dark Theme Variables === */
:root{
  --bg:#0b1020; --panel:#121933; --text:#e8ebfa; --muted:#aeb6d3;
  --accent:#7aa2f7; --accent2:#9d7af7; --danger:#ff6b6b; --warn:#ffbd59;
  --success:#57d48b; --success2:#2dd4bf;
  --radius:16px; --radius-sm:10px; --space:16px; --space-sm:10px;
}

/* === Reset & Base === */
*{box-sizing:border-box}
html{font-size:16px}
body{
  margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial;
  background:var(--bg); color:var(--text); line-height:1.5;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
::placeholder{color:color-mix(in srgb, var(--muted) 80%, #fff 20%)}

/* === Header / Nav === */
header{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:16px 24px; background:#0f1530; border-bottom:1px solid #232a4a;
  position:sticky; top:0; z-index:10;
}
.brand{font-weight:700; font-size:20px}
.nav{display:flex; gap:12px; align-items:center; flex-wrap:wrap}
.nav a{ color:var(--muted); text-decoration:none; padding:6px 10px; border-radius:10px; border:1px solid transparent; }
.nav a:hover{ color:var(--accent); border-color:#2a3466; background:#12193a }

/* === Layout === */
main{ padding:24px; max-width:1200px; margin:0 auto; }
.panel{ background:var(--panel); border:1px solid #1e2750; border-radius:var(--radius); padding:20px; box-shadow:0 10px 30px rgba(0,0,0,.2) }
.panel + .panel{ margin-top:16px }
.panel-head{ display:flex; align-items:center; gap:12px; margin-bottom:12px }
.spacer{flex:1}

/* === Tabs === */
.tabs{display:flex; gap:8px; margin-left:auto}
.tab{ padding:6px 12px; border-radius:10px; border:1px solid #2a3466; background:#0f1530; color:var(--text); cursor:pointer; }
.tab[aria-selected="true"]{background:#1a2247}

/* === Tables === */
.table-wrap{overflow:auto}
table{width:100%; border-collapse:collapse}
th,td{padding:12px; border-bottom:1px solid #26305a; text-align:left; white-space:nowrap}
thead th{position:sticky; top:0; background:#151c3b}
/* Allow content inside cells to wrap normally (important for forms in rows) */
td > :is(form, .form, .detail-card, .content){ white-space:normal }
/* Keep form sections aligned to top inside rows */
td{vertical-align:top}

/* === Forms (comfortable spacing) === */
.form{ display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:12px 16px }
.form label{ display:grid; gap:6px; font-size:14px; color:var(--muted) }
.form .actions{ grid-column:1/-1; margin-top:8px }

/* Generic forms (when there is no .form class), especially forms inside table rows */
.table td form{ display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:12px 16px }
.table td form textarea,
.table td form .actions{ grid-column:1/-1 }

input, textarea, select{
  padding:10px 12px; border-radius:var(--radius-sm); border:1px solid #2a3466;
  background:#0f1530; color:var(--text); min-height:40px;
}
textarea{ min-height:120px; resize:vertical }
input:focus, textarea:focus, select:focus{ outline:none; border-color:var(--accent); box-shadow:0 0 0 2px rgba(122,162,247,.3) }

/* === Inline control groups === */
.form-inline{ display:flex; flex-wrap:wrap; gap:8px; align-items:center }
.form-row{ display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:12px 16px; margin:8px 0 }
.form-row.block{ display:block }

/* === Select styling & chevron === */
.select-wrap{ position:relative; display:inline-block; min-width:180px }
.select-wrap > select{ width:100% }
.select-wrap::after{ content:""; position:absolute; right:12px; top:50%; transform:translateY(-30%); border-left:6px solid transparent; border-right:6px solid transparent; border-top:6px solid var(--muted); pointer-events:none }
select, .form select, select.btn{ -webkit-appearance:none; -moz-appearance:none; appearance:none; background-color:#0f1530; color:var(--text); border:1px solid #2a3466; border-radius:8px; padding:8px 42px 8px 12px; font-size:14px; line-height:1.4; cursor:pointer; box-shadow:none; outline:none }
select:hover{ border-color:var(--accent) }
select:focus{ border-color:var(--accent); box-shadow:0 0 0 2px rgba(122,162,247,.3) }
select:disabled{ opacity:.6; cursor:not-allowed }
select[multiple]{ background-image:none; padding-right:12px; min-height:120px }
select option{ background:#0f1530; color:var(--text) }
select::-ms-expand{ display:none }

/* === Practitioner list (email only) === */
.practitioners .contact-wrap{display:flex;align-items:center;gap:10px;background:none!important;border:none!important;box-shadow:none!important;padding:0!important}
.practitioners .contact-wrap .phone{display:none!important}
.practitioners .contact-wrap .email{font-weight:500;font-size:.95rem;color:var(--text)}

/* === Buttons (white pills) === */
button.btn, a.btn, input[type="button"].btn, input[type="submit"].btn{
  display:inline-block; padding:10px 16px; border-radius:9999px; font-weight:600;
  text-decoration:none; cursor:pointer; transition:all .25s ease;
  background:#fff !important; color:#000 !important; border:1px solid #d1d5db !important; box-shadow:0 2px 6px rgba(0,0,0,.25) !important;
}
button.btn.small, a.btn.small, input[type="button"].btn.small, input[type="submit"].btn.small{ padding:6px 12px }
button.btn:hover, a.btn:hover, input[type="button"].btn:hover, input[type="submit"].btn:hover{ background:#f3f4f6 !important; box-shadow:0 6px 14px rgba(0,0,0,.25) !important; transform:translateY(-1px) }
button.btn:active, a.btn:active, input[type="button"].btn:active, input[type="submit"].btn:active{ background:#e5e7eb !important; box-shadow:0 3px 6px rgba(0,0,0,.2) !important; transform:translateY(0) }
button.btn.secondary, a.btn.secondary, input[type="button"].btn.secondary, input[type="submit"].btn.secondary{ background:transparent !important; color:var(--text) !important; border:1px solid #2a3466 !important; box-shadow:none !important }

/* === KPI Tiles === */
.stats{display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:12px}
.stat{background:#0e1330; border:1px solid #232a4a; border-radius:12px; padding:16px; text-align:center}
.stat .num{font-size:28px; font-weight:800}
.stats.color .stat.accent{ background:linear-gradient(135deg,#1a2247,#2a3a88) }
.stats.color .stat.accent2{ background:linear-gradient(135deg,#2a1a47,#6f46c7) }
.stats.color .stat.success{ background:linear-gradient(135deg,#123b2a,#1f6a4a) }
.stats.color .stat.success2{ background:linear-gradient(135deg,#103b3a,#127a70) }
.stats.color .stat.warning{ background:linear-gradient(135deg,#3a2a10,#a8741a) }
.stats.color .stat.danger{ background:linear-gradient(135deg,#3a1010,#7a1a1a) }

/* === Clickable Stats === */
.clickable-stat{
  text-decoration:none; color:inherit; display:block;
  transition:all 0.2s ease; cursor:pointer;
}
.clickable-stat:hover{
  transform:translateY(-2px); 
  box-shadow:0 8px 25px rgba(0,0,0,0.3);
  filter:brightness(1.1);
}
.clickable-stat:active{
  transform:translateY(0);
  box-shadow:0 4px 15px rgba(0,0,0,0.2);
}

/* === Provider Pills — Dark AI shiny set (Geneway darker than Optiway; Enbiosis baby blue; Geko white) === */
.provider-badge{
  display:inline-block; padding:10px 22px; border-radius:9999px; font-weight:700; margin:12px 0;
  color:#eaf2ff; border:1px solid rgba(147,197,253,.25);
  backdrop-filter: blur(12px) saturate(180%); -webkit-backdrop-filter: blur(12px) saturate(180%);
  box-shadow:0 10px 24px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.14), inset 0 18px 36px rgba(255,255,255,.06);
  text-shadow:0 1px 2px rgba(0,0,0,.5); filter:saturate(115%) contrast(108%);
  transition:transform .2s ease, box-shadow .2s ease, filter .2s ease; background-size:100% 100%,100% 100%,100% 100%;
}
.provider-badge:hover{ transform:translateY(-1px); filter:saturate(125%) contrast(112%); box-shadow:0 14px 28px rgba(0,0,0,.5), inset 0 1px 0 rgba(255,255,255,.18), inset 0 22px 44px rgba(255,255,255,.08) }

/* Geneway — darker than Optiway */
.provider-geneway{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,0) 42%),
    linear-gradient(45deg, rgba(120,142,193,.22), rgba(120,142,193,0) 52%),
    linear-gradient(135deg, #0a1020 0%, #132040 35%, #3051a0 70%, #788ec1 100%);
  border-color: rgba(48,81,160,.45);
}

/* Optiway — brighter electric blue */
.provider-optiway{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,0) 42%),
    linear-gradient(45deg, rgba(183,235,255,.20), rgba(183,235,255,0) 52%),
    linear-gradient(135deg, #0e2a5b 0%, #1d5ad1 55%, #2fd6ff 85%, #b6f1ff 100%);
  border-color: rgba(47,214,255,.38);
}

/* Enbiosis — baby blue */
.provider-enbiosis{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.16), rgba(255,255,255,0) 44%),
    linear-gradient(45deg, rgba(189,224,254,.35), rgba(189,224,254,0) 52%),
    linear-gradient(135deg, #0a1f2e 0%, #12a9d2 45%, #67d9ff 75%, #bde0fe 100%);
  color:#0a0f1a; text-shadow:none; border-color: rgba(189,224,254,.55);
}

/* Intelligene — crimson */
.provider-intelligene{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,0) 40%),
    linear-gradient(45deg, rgba(248,113,113,.20), rgba(248,113,113,0) 50%),
    linear-gradient(135deg, #0d0a0b 0%, #5a1116 40%, #b91c1c 70%, #f43f5e 100%);
  border-color: rgba(248,113,113,.32);
}

/* Healthy Me — green */
.provider-healthyme{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,0) 40%),
    linear-gradient(45deg, rgba(126,226,163,.22), rgba(126,226,163,0) 52%),
    linear-gradient(135deg, #0b1a10 0%, #1f7e3c 45%, #2fbf61 75%, #7ee2a3 100%);
  border-color: rgba(47,191,97,.35);
}

/* Sam Wearables — violet */
.provider-samwearables{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,0) 42%),
    linear-gradient(45deg, rgba(167,139,250,.24), rgba(167,139,250,0) 52%),
    linear-gradient(135deg, #120a2a 0%, #4c1d95 45%, #7c3aed 75%, #a78bfa 100%);
  border-color: rgba(167,139,250,.34);
}

/* Intelligene Fedhealth — red & black */
.provider-intelligenefedhealth{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,0) 38%),
    linear-gradient(45deg, rgba(239,68,68,.18), rgba(239,68,68,0) 50%),
    linear-gradient(135deg, #07090e 0%, #2b0b0b 40%, #7a1212 70%, #b91c1c 90%, #f87171 100%);
  border-color: rgba(239,68,68,.32);
}

/* Intelligene Umvuzo — amber → gold */
.provider-intelligeneumvuzo{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,0) 40%),
    linear-gradient(45deg, rgba(251,146,60,.20), rgba(251,146,60,0) 48%),
    linear-gradient(135deg, #140a02 0%, #7c2d12 40%, #f59e0b 70%, #ffd166 100%);
  color:#0b0f19; text-shadow:none; border-color: rgba(251,146,60,.34);
}

/* Geko — white pill */
.provider-geko{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.45), rgba(255,255,255,0) 50%),
    linear-gradient(135deg, #ffffff 0%, #f3f4f6 100%);
  color:#0b0f19; text-shadow:none; border-color:#d1d5db;
  box-shadow:0 10px 22px rgba(0,0,0,.20), inset 0 1px 0 rgba(255,255,255,.8), inset 0 14px 28px rgba(255,255,255,.22);
}

/* Unknown — neutral steel */
.provider-unknown{
  background-image:
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,0) 36%),
    linear-gradient(45deg, rgba(148,163,184,.16), rgba(148,163,184,0) 48%),
    linear-gradient(135deg, #0b1020 0%, #1f2937 60%, #111827 100%);
  border-color: rgba(148,163,184,.28);
}

/* === Flash (readable) === */
.flash-container, .flash, .alert, .flash-msg{ opacity:1 !important; filter:none !important; text-shadow:none !important }
.flash, .alert, .flash-msg{ padding:12px 14px; border-radius:10px; margin:10px 8px; border:1px solid transparent }
/* SUCCESS */
.flash-success, .alert-success, .flash-msg.success, .flash.success, .bg-success-subtle{ background-color:#dcfce7 !important; border-color:#86efac !important; color:#0a0a0a !important }
.flash-success *, .alert-success *, .flash-msg.success *, .flash.success *, .bg-success-subtle *{ color:#0a0a0a !important }
/* ERROR / DANGER */
.flash-error, .flash-danger, .alert-danger, .flash-msg.error, .flash.error, .bg-danger-subtle{ background-color:#fee2e2 !important; border-color:#fca5a5 !important; color:#180000 !important }
.flash-error *, .flash-danger *, .alert-danger *, .flash-msg.error *, .flash.error *, .bg-danger-subtle *{ color:#180000 !important }
/* INFO */
.flash-info, .alert-info{ background-color:#e0f2fe !important; border-color:#93c5fd !important; color:#0b1220 !important }
.flash-info *, .alert-info *{ color:#0b1220 !important }
/* WARNING */
.flash-warning, .alert-warning{ background-color:#fef9c3 !important; border-color:#fde68a !important; color:#1a1500 !important }
.flash-warning *, .alert-warning *{ color:#1a1500 !important }
/* Links in flashes */
.flash a, .alert a{ text-decoration:underline; color:inherit }

/* === WORKFLOW & FLAGS — slim left‑aligned checkboxes === */
:root{ --flags-max: 680px }
fieldset.form-set{ border:0; padding:0; margin:14px 0 10px }
fieldset.form-set>legend{ font-weight:700; margin-bottom:8px }
/* Hug the left, 2 tidy columns, responsive down to 1 */
.check-grid{ display:grid; grid-template-columns:repeat(2,minmax(220px,1fr)); gap:8px 16px; justify-items:start; align-items:center; max-width:var(--flags-max) }
@media (max-width:640px){ .check-grid{ grid-template-columns:1fr } }
/* Slim row; removes heavy card look */
.check{ display:inline-flex; align-items:center; gap:8px; padding:0 !important; margin:0; background:transparent !important; border:0 !important; box-shadow:none !important }
.check input[type="checkbox"]{ width:16px; height:16px; margin:0; flex:none; accent-color:var(--accent) }
.check span{ font-size:14px; line-height:1.3; color:var(--text) }
/* Keep left in table cells */
td .check-grid{ justify-content:start }

/* Optional: inline text inputs near flags/workflow */
.inline-controls{ display:flex; flex-wrap:wrap; gap:16px 24px; align-items:center; max-width:var(--flags-max) }
.inline-controls .field{ display:grid; gap:6px; min-width:260px }
.inline-controls input, .inline-controls select{ min-height:40px }
/* If you prefer a wider cap instead of full bleed */
main{
  max-width: min(100%, 1600px);
  margin: 0 auto;
  padding-inline: clamp(16px, 2vw, 32px);
}


/* === Layout tidy (no color changes) === */
:root{
  --container-max: 1200px;
  --space-1: .25rem; --space-2: .5rem; --space-3: .75rem; --space-4: 1rem;
  --space-5: 1.25rem; --space-6: 1.5rem; --radius: 12px; --radius-sm: 8px;
  --border: 1px solid rgba(0,0,0,.12);
  --shadow: 0 1px 2px rgba(0,0,0,.08);
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0; line-height:1.5; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif}
.container{max-width:var(--container-max); margin-inline:auto; padding:var(--space-6) var(--space-4)}
.header, header.page-header{display:flex; align-items:center; justify-content:space-between; gap:var(--space-4); margin-bottom: var(--space-6);}
h1,h2,h3{margin:0 0 var(--space-3); line-height:1.2}
.subtitle{margin-top: -0.25rem; margin-bottom: var(--space-6); opacity:.85}
.card{border:var(--border); border-radius:var(--radius); padding:var(--space-5); box-shadow:var(--shadow); background:inherit}
.table-wrap{overflow:auto; border-radius:var(--radius); border:var(--border);}
table{width:100%; border-collapse:collapse; font-size:0.95rem}
th, td{padding: .65rem .8rem; text-align:left; white-space:nowrap}
thead th{position:sticky; top:0; backdrop-filter:saturate(120%) blur(2px)}
tbody tr{border-top:var(--border)}
tbody tr:hover{outline:0; filter:brightness(0.995)}
.controls{display:flex; flex-wrap:wrap; gap:var(--space-3); margin-bottom:var(--space-4)}
.controls .spacer{flex:1}
input[type="text"], input[type="email"], input[type="tel"], input[type="date"], select, textarea{width:100%; padding:.65rem .8rem; border:var(--border); border-radius:var(--radius-sm); outline:none;}
input:focus, select:focus, textarea:focus{box-shadow:0 0 0 3px rgba(0,0,0,.08) inset}
.form-grid{display:grid; grid-template-columns:repeat(auto-fit, minmax(220px,1fr)); gap:var(--space-4)}
.form-actions{display:flex; gap:var(--space-3); justify-content:flex-end; margin-top:var(--space-5)}
.badge{display:inline-block; padding:.2rem .5rem; border:var(--border); border-radius:999px; font-size:.8rem}
.hide-dup-h1 h1 + h1{display:none}
.table-compact th, .table-compact td{padding:.5rem .6rem;}
footer.page-footer{margin-top:var(--space-6); padding: var(--space-4) 0; border-top: var(--border)}
/* === Compact form variant (for dense pages like Team Tasks) === */
.form.compact label{ margin-bottom:8px; }

.form.compact :is(input, select, textarea){
  min-height:32px;
  padding:6px 8px;
  font-size:.95rem;
}

.form.compact textarea{ min-height:64px; }

/* Make inline edit forms inside tables a bit denser */
.table td .form.compact{
  gap:8px 12px;
  grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
}

/* Keep tap targets comfortable on touch devices */
@media (pointer: coarse){
  .form.compact :is(input, select, textarea){ min-height:40px; }
}



/* === Buttons: variants & icon helpers === */
.btn{ display:inline-flex; align-items:center; gap:8px; }
.btn.icon-left svg{ width:16px; height:16px; display:block; }
.btn.danger{ background:#b91c1c; color:#fff; border-color:transparent; }
.btn.danger:hover{ filter:brightness(1.05); }
.btn.danger:active{ filter:brightness(.95); }
.btn.ghost{ background:transparent; border:1px solid #2a3466; color:var(--text); }


/* === Fix: ensure icon-left buttons are not squashed and look consistent === */
.btn.icon-left{
  display:inline-flex;
  align-items:center;
  gap:8px;
}
.btn.icon-left svg{
  width:16px;
  height:16px;
}
/* Make destructive actions clearly styled and roomy */
.btn.danger, a.btn.danger, input[type="submit"].btn.danger{
  background:#dc2626 !important;
  color:#fff !important;
  border-color:#dc2626 !important;
}
/* Prevent narrow/squashed buttons inside forms */
form .btn{
  min-width:140px;
}
@media (max-width: 520px){
  form .btn{ width:auto; min-width:120px; }
}

/* Space between action buttons - horizontal only */
.actions .btn + .btn{ margin-left:8px; margin-top:0; }

/* Button spacing & layout */
.actions + form{ margin-top:12px; }
.actions{ display:flex; gap:8px; flex-wrap:wrap }
@media (max-width:700px){ .actions{ flex-direction:column } }
